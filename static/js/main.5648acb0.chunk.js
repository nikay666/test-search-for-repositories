(this["webpackJsonptest-search-for-repositories"]=this["webpackJsonptest-search-for-repositories"]||[]).push([[0],{166:function(e,n,t){},175:function(e,n,t){},180:function(e,n,t){},181:function(e,n,t){"use strict";t.r(n);var a,i,r=t(0),c=t.n(r),o=t(24),s=t.n(o),l=(t(166),t(256)),j=t(75),d=t(28),u=t(257),b=t(68),m=t(152),g=t(260),O=t(261),h=t(139),p=t(237),x=Object(m.a)({uri:"https://api.github.com/graphql"}),f=Object(h.a)((function(e,n){var t=n.headers;return{headers:Object(b.a)(Object(b.a)({},t),{},{authorization:"token OAUTH-TOKEN"})}})),v=new g.a({link:f.concat(x),cache:new O.a({typePolicies:{Query:{fields:{search:Object(p.a)(["query"])}}}})}),y=t(111),N=t(109),w=t(112),z=t(110),R=t(151),k=Object(R.a)({palette:{type:"dark",primary:{main:y.a[200]},secondary:{main:N.a[200]},success:{main:w.a[300]},error:{main:z.a[300]},background:{default:"#212121"}}}),C=t(251),I=t(244),S=t(239),L=t(266),P=Object(S.a)((function(e){return Object(L.a)({information:{marginRight:e.spacing(2)},card:{width:"100%",background:e.palette.background.default},descripition:{margin:"5px 0"}})})),q=t(265),B=t(3),W=function(){return Object(B.jsx)(q.a,{variant:"rectangular",sx:{bgcolor:"grey.800",borderRadius:4,minHeight:190}})},T=t(259),$=t(262),D=function(e){var n=e.error;return Object(B.jsxs)(T.a,{severity:"error",children:[Object(B.jsx)($.a,{children:"\u0423\u043f\u0441! \u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a "}),"".concat(n)]})},M=function(e){var n=e.loading,t=e.error,a=e.children,i=P();return n?Object(B.jsx)(W,{}):t?Object(B.jsx)(D,{error:t.message}):Object(B.jsx)(I.a,{variant:"outlined",className:i.card,children:a})},A=t(249),E=t(187),F=Object(S.a)((function(e){return Object(L.a)({root:{color:e.palette.primary.main,display:"inline-block"}})})),H=(t(175),function(e){var n=e.to,t=e.children,a=F();return Object(B.jsx)(j.b,{className:"".concat(a.root," card__title"),to:n,children:t})}),J=t(247),V=t(248),_=t(246),G=t(268),K=Object(S.a)((function(e){return Object(L.a)({information:{fontSize:e.typography.subtitle2.fontSize},chip:{marginLeft:e.spacing(.5)},icon:{marginRight:e.spacing(.5)},percent:{color:e.palette.text.secondary,marginLeft:e.spacing(.5)}})})),Q=function(e){return e>=1e3?"".concat((e/1e3).toPrecision(2),"k"):"".concat(e)},U=function(e){return"number"===typeof e?Q(e):e},Y=function(e){var n=e.icon,t=e.count,a=e.title,i=e.percent,r=e.className,c=void 0===r?"":r,o=K();return 0===i?null:Object(B.jsxs)("div",{className:"".concat(o.information," ").concat(c," flex-center"),children:[Object(B.jsx)(_.a,{fontSize:"inherit",className:o.icon,children:n}),Object(B.jsx)(E.a,{variant:"inherit",noWrap:!0,component:"p",children:U(a)}),void 0!==t&&Object(B.jsx)(G.a,{className:o.chip,label:Q(t),size:"small"}),void 0!==i&&Object(B.jsx)(E.a,{variant:"inherit",className:o.percent,component:"p",children:"".concat(i,"%")})]})},X=t(74),Z=t.n(X),ee=Object(S.a)((function(e){return Object(L.a)({root:{display:"flex",flexDirection:"column"},information:{marginRight:e.spacing(2),margin:"5px 0",padding:0},list:{},listItem:{padding:0}})})),ne=function(e){var n=e.languages,t=e.className,a=ee();return Object(B.jsxs)("div",{className:t,children:[Object(B.jsx)(E.a,{variant:"h6",component:"p",children:"Languages"}),Object(B.jsx)(J.a,{children:n.edges.map((function(e){return Object(B.jsx)(V.a,{className:a.listItem,children:Object(B.jsx)(Y,{className:a.information,icon:Object(B.jsx)(Z.a,{fontSize:"inherit",htmlColor:e.node.color}),title:e.node.name,percent:(t=n.totalSize,i=e.size,Math.floor(i/t*100))})},e.node.id);var t,i}))})]})},te=t(12),ae=Object(S.a)((function(e){var n;return Object(L.a)({root:{justifyContent:"space-between"},descripition:{margin:"5px 0"},mainInfo:(n={width:"60%",marginRight:e.spacing(2)},Object(te.a)(n,e.breakpoints.down("sm"),{width:"75%",marginRight:0,marginBottom:e.spacing(2)}),Object(te.a)(n,e.breakpoints.down("xs"),{width:"100%",marginRight:0,marginBottom:e.spacing(2)}),n),languageBlock:Object(te.a)({},e.breakpoints.down("xs"),{width:"100%"})})})),ie=t(147),re=t.n(ie),ce=t(146),oe=t.n(ce),se=t(105),le=t.n(se),je=Object(S.a)((function(e){return Object(L.a)({information:{marginRight:e.spacing(2),margin:"5px 0"}})})),de=function(e){var n=e.stargazers,t=e.primaryLanguage,a=e.issues,i=e.pullRequests,r=je();return Object(B.jsxs)("div",{className:"flex-center",children:[Object(B.jsx)(Y,{className:r.information,icon:Object(B.jsx)(le.a,{fontSize:"inherit"}),title:null===n||void 0===n?void 0:n.totalCount}),Object(B.jsx)(Y,{className:r.information,icon:Object(B.jsx)(Z.a,{fontSize:"inherit",htmlColor:null===t||void 0===t?void 0:t.color}),title:null===t||void 0===t?void 0:t.name}),Object(B.jsx)(Y,{className:r.information,icon:Object(B.jsx)(oe.a,{fontSize:"inherit"}),title:"Issues",count:null===a||void 0===a?void 0:a.totalCount}),Object(B.jsx)(Y,{className:r.information,icon:Object(B.jsx)(re.a,{fontSize:"inherit"}),title:"Pull requests",count:null===i||void 0===i?void 0:i.totalCount})]})},ue=function(e){var n=ae();return Object(B.jsxs)(A.a,{className:"".concat(n.root,"  flex-wrap"),children:[Object(B.jsxs)("div",{className:n.mainInfo,children:[Object(B.jsx)(H,{to:"/repositories/".concat(e.id),children:e.nameWithOwner}),Object(B.jsx)(de,{stargazers:e.stargazers,primaryLanguage:e.primaryLanguage,issues:e.issues,pullRequests:e.pullRequests}),Object(B.jsx)(E.a,{className:n.descripition,color:"textPrimary",children:e.description})]}),Object(B.jsx)(ne,{languages:e.languages,className:n.languageBlock})]})},be=t(149),me=t.n(be),ge=t(250),Oe=t(41),he=t(127),pe=Object(he.a)(a||(a=Object(Oe.a)(["query SearchRepositoriesByName($repositoryName: String!,$cursor: String){ \n  search(query: $repositoryName, type: REPOSITORY, first: 10, after: $cursor){\n    repositoryCount\n    pageInfo{\n      endCursor\n      hasNextPage\n    }\n    edges{\n      node{\n        ... on Repository{\n          id\n          nameWithOwner\n          owner {\n            id\n            login\n          }\n          name\n          description\n          primaryLanguage{\n            color\n            name\n          }\n          stargazers{\n            totalCount\n          }\n        }\n      }\n    }\n  }\n}"]))),xe=Object(he.a)(i||(i=Object(Oe.a)(["query GetRepositoryById($repositoryID: ID!) { \n  node(id: $repositoryID){\n    ... on Repository{\n\t\t\tid\n      name\n      nameWithOwner\n    \tdescription\n      primaryLanguage{\n        name\n        color\n      }\n      languages(first: 100){\n        totalSize\n        edges{\n          size\n          node {\n            id\n            name\n            color\n          }\n        }\n      }\n      stargazers{\n        totalCount\n      }\n      issues{\n        totalCount\n      }\n      pullRequests{\n        totalCount\n      }\n    }\n  }\n}"]))),fe=function(e){var n=e.match,t=Object(ge.a)(xe,{variables:{repositoryID:n.params.id}}),a=t.loading,i=t.error,r=t.data;return Object(B.jsxs)("div",{children:[Object(B.jsx)(j.b,{to:"/",children:Object(B.jsx)(C.a,{"aria-label":"\u041d\u0430\u0437\u0430\u0434",children:Object(B.jsx)(me.a,{})})}),Object(B.jsx)(M,{loading:a,error:i,children:Object(B.jsx)(ue,Object(b.a)({},null===r||void 0===r?void 0:r.node))})]})},ve=t(25),ye=t(254),Ne=t(258),we=t(252),ze=t(150),Re=t.n(ze),ke=function(e){var n=e.setValue,t=Object(r.useState)(""),a=Object(ve.a)(t,2),i=a[0],c=a[1];return Object(B.jsx)(Ne.a,{fullWidth:!0,type:"text",label:"\u041f\u043e\u0438\u0441\u043a",variant:"outlined",value:i,InputProps:{endAdornment:Object(B.jsx)(we.a,{position:"end",children:Object(B.jsx)(Re.a,{})})},onChange:function(e){var t=e.currentTarget.value;n(""===t?null:t),c(t)}})},Ce=Object(S.a)((function(e){return Object(L.a)({information:{marginRight:e.spacing(2)},descripition:{margin:"5px 0"}})})),Ie=function(e){var n,t,a,i=Ce();return Object(B.jsxs)(A.a,{children:[Object(B.jsx)(H,{to:"/repositories/".concat(e.id),children:e.nameWithOwner}),Object(B.jsx)(E.a,{className:i.descripition,color:"textPrimary",children:e.description}),Object(B.jsxs)("div",{className:"flex-center",children:[Object(B.jsx)(Y,{className:i.information,icon:Object(B.jsx)(le.a,{fontSize:"inherit"}),title:Q(null===(n=e.stargazers)||void 0===n?void 0:n.totalCount)}),Object(B.jsx)(Y,{className:i.information,icon:Object(B.jsx)(Z.a,{fontSize:"inherit",htmlColor:null===(t=e.primaryLanguage)||void 0===t?void 0:t.color}),title:null===(a=e.primaryLanguage)||void 0===a?void 0:a.name})]})]})},Se=Object(S.a)((function(e){return Object(L.a)({listItem:{paddingLeft:0,paddingRight:0},list:{width:"100%",marginBottom:50}})})),Le=t(263),Pe=function(e){var n=e.edges,t=e.loading,a=e.error,i=Se();return Object(B.jsx)(J.a,{className:i.list,children:n.map((function(e){var n=e.node;return Object(B.jsx)(V.a,{className:i.listItem,children:Object(B.jsx)(M,{loading:t,error:a,children:Object(B.jsx)(Ie,Object(b.a)({},n))})},Object(Le.a)())}))})},qe=function(e){var n=e.length,t=new Array(void 0===n?10:n).fill(1);return Object(B.jsx)(B.Fragment,{children:t.map((function(e){return Object(B.jsx)(q.a,{variant:"rectangular",sx:{bgcolor:"grey.800",borderRadius:4,height:110,width:"100%",margin:"8px 0"}},Math.random())}))})},Be=t(253),We=Object(S.a)((function(e){return Object(L.a)({input:{width:"100%"},message:{marginTop:"40px"}})})),Te=function(){var e,n,t=We(),a=Object(Be.a)(pe),i=Object(ve.a)(a,2),r=i[0],c=i[1],o=c.loading,s=c.error,l=c.data,j=c.fetchMore;return Object(B.jsxs)("div",{className:"container",children:[Object(B.jsx)(ke,{setValue:function(e){r({variables:{repositoryName:e}})}}),o&&Object(B.jsx)(qe,{}),l?Object(B.jsxs)(B.Fragment,{children:[Object(B.jsx)(Pe,{edges:null===l||void 0===l||null===(e=l.search)||void 0===e?void 0:e.edges,loading:o,error:s}),(null===(n=l.search)||void 0===n?void 0:n.pageInfo.hasNextPage)&&Object(B.jsx)(ye.a,{variant:"outlined",color:"primary",onClick:function(){if(void 0===j)return null;var e=l.search.pageInfo,n=e.hasNextPage,t=e.endCursor;n&&j({variables:{cursor:t}})},children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435"})]}):!o&&Object(B.jsx)(E.a,{className:t.message,color:"textPrimary",variant:"body1",children:"\u0417\u0434\u0435\u0441\u044c \u043f\u043e\u043a\u0430 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435\u0442"})]})},$e=t(255),De=Object(S.a)((function(e){return Object(L.a)({main:{backgroundColor:e.palette.background.default,minHeight:"100vh",width:"100%",paddingTop:30,paddingBottom:100}})})),Me=function(e){var n=e.children,t=De();return Object(B.jsx)("main",{className:t.main,children:Object(B.jsx)($e.a,{maxWidth:"md",children:Object(B.jsx)(B.Fragment,{children:n})})})};t(180);var Ae=function(){return Object(B.jsx)("div",{className:"app",children:Object(B.jsx)(l.a,{theme:k,children:Object(B.jsx)(u.a,{client:v,children:Object(B.jsx)(j.a,{children:Object(B.jsx)(Me,{children:Object(B.jsxs)(d.c,{children:[Object(B.jsx)(d.a,{exact:!0,path:"/",component:Te}),Object(B.jsx)(d.a,{path:"/repositories/:id",component:fe})]})})})})})})};s.a.render(Object(B.jsx)(c.a.StrictMode,{children:Object(B.jsx)(Ae,{})}),document.getElementById("root"))}},[[181,1,2]]]);
//# sourceMappingURL=main.5648acb0.chunk.js.map