(this["webpackJsonptest-search-for-repositories"]=this["webpackJsonptest-search-for-repositories"]||[]).push([[0],{166:function(e,n,t){},175:function(e,n,t){},180:function(e,n,t){},181:function(e,n,t){"use strict";t.r(n);var a,r,i=t(0),c=t.n(i),o=t(24),s=t.n(o),l=(t(166),t(256)),j=t(75),d=t(28),u=t(257),b=t(68),m=t(152),g=t(260),h=t(261),O="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",p=t(139),x=t(237),f=Object(m.a)({uri:"https://api.github.com/graphql"}),v=Object(p.a)((function(e,n){var t=n.headers;return{headers:Object(b.a)(Object(b.a)({},t),{},{authorization:"Bearer ".concat(O)})}})),y=new g.a({link:v.concat(f),cache:new h.a({typePolicies:{Query:{fields:{search:Object(x.a)(["query"])}}}})}),N=t(111),w=t(109),z=t(112),R=t(110),C=t(151),I=Object(C.a)({palette:{type:"dark",primary:{main:N.a[200]},secondary:{main:w.a[200]},success:{main:z.a[300]},error:{main:R.a[300]},background:{default:"#212121"}}}),S=t(251),k=t(244),L=t(239),P=t(266),q=Object(L.a)((function(e){return Object(P.a)({information:{marginRight:e.spacing(2)},card:{width:"100%",background:e.palette.background.default},descripition:{margin:"5px 0"}})})),B=t(265),D=t(3),W=function(){return Object(D.jsx)(B.a,{variant:"rectangular",sx:{bgcolor:"grey.800",borderRadius:4,minHeight:190}})},$=t(259),M=t(262),T=function(e){var n=e.error;return Object(D.jsxs)($.a,{severity:"error",children:[Object(D.jsx)(M.a,{children:"\u0423\u043f\u0441! \u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a "}),"".concat(n)]})},A=function(e){var n=e.loading,t=e.error,a=e.children,r=q();return n?Object(D.jsx)(W,{}):t?Object(D.jsx)(T,{error:t.message}):Object(D.jsx)(k.a,{variant:"outlined",className:r.card,children:a})},F=t(249),H=t(187),_=Object(L.a)((function(e){return Object(P.a)({root:{color:e.palette.primary.main,display:"inline-block"}})})),E=(t(175),function(e){var n=e.to,t=e.children,a=_();return Object(D.jsx)(j.b,{className:"".concat(a.root," card__title"),to:n,children:t})}),G=t(247),J=t(248),Q=t(246),V=t(268),Y=Object(L.a)((function(e){return Object(P.a)({information:{fontSize:e.typography.subtitle2.fontSize},chip:{marginLeft:e.spacing(.5)},icon:{marginRight:e.spacing(.5)},percent:{color:e.palette.text.secondary,marginLeft:e.spacing(.5)}})})),X=function(e){return e>=1e3?"".concat((e/1e3).toPrecision(2),"k"):"".concat(e)},K=function(e){return"number"===typeof e?X(e):e},U=function(e){var n=e.icon,t=e.count,a=e.title,r=e.percent,i=e.className,c=void 0===i?"":i,o=Y();return 0===r?null:Object(D.jsxs)("div",{className:"".concat(o.information," ").concat(c," flex-center"),children:[Object(D.jsx)(Q.a,{fontSize:"inherit",className:o.icon,children:n}),Object(D.jsx)(H.a,{variant:"inherit",noWrap:!0,component:"p",children:K(a)}),void 0!==t&&Object(D.jsx)(V.a,{className:o.chip,label:X(t),size:"small"}),void 0!==r&&Object(D.jsx)(H.a,{variant:"inherit",className:o.percent,component:"p",children:"".concat(r,"%")})]})},Z=t(74),ee=t.n(Z),ne=Object(L.a)((function(e){return Object(P.a)({root:{display:"flex",flexDirection:"column"},information:{marginRight:e.spacing(2),margin:"5px 0",padding:0},list:{},listItem:{padding:0}})})),te=function(e){var n=e.languages,t=e.className,a=ne();return Object(D.jsxs)("div",{className:t,children:[Object(D.jsx)(H.a,{variant:"h6",component:"p",children:"Languages"}),Object(D.jsx)(G.a,{children:n.edges.map((function(e){return Object(D.jsx)(J.a,{className:a.listItem,children:Object(D.jsx)(U,{className:a.information,icon:Object(D.jsx)(ee.a,{fontSize:"inherit",htmlColor:e.node.color}),title:e.node.name,percent:(t=n.totalSize,r=e.size,Math.floor(r/t*100))})},e.node.id);var t,r}))})]})},ae=t(12),re=Object(L.a)((function(e){var n;return Object(P.a)({root:{justifyContent:"space-between"},descripition:{margin:"5px 0"},mainInfo:(n={width:"60%",marginRight:e.spacing(2)},Object(ae.a)(n,e.breakpoints.down("sm"),{width:"75%",marginRight:0,marginBottom:e.spacing(2)}),Object(ae.a)(n,e.breakpoints.down("xs"),{width:"100%",marginRight:0,marginBottom:e.spacing(2)}),n),languageBlock:Object(ae.a)({},e.breakpoints.down("xs"),{width:"100%"})})})),ie=t(147),ce=t.n(ie),oe=t(146),se=t.n(oe),le=t(105),je=t.n(le),de=Object(L.a)((function(e){return Object(P.a)({information:{marginRight:e.spacing(2),margin:"5px 0"}})})),ue=function(e){var n=e.stargazers,t=e.primaryLanguage,a=e.issues,r=e.pullRequests,i=de();return Object(D.jsxs)("div",{className:"flex-center",children:[Object(D.jsx)(U,{className:i.information,icon:Object(D.jsx)(je.a,{fontSize:"inherit"}),title:null===n||void 0===n?void 0:n.totalCount}),Object(D.jsx)(U,{className:i.information,icon:Object(D.jsx)(ee.a,{fontSize:"inherit",htmlColor:null===t||void 0===t?void 0:t.color}),title:null===t||void 0===t?void 0:t.name}),Object(D.jsx)(U,{className:i.information,icon:Object(D.jsx)(se.a,{fontSize:"inherit"}),title:"Issues",count:null===a||void 0===a?void 0:a.totalCount}),Object(D.jsx)(U,{className:i.information,icon:Object(D.jsx)(ce.a,{fontSize:"inherit"}),title:"Pull requests",count:null===r||void 0===r?void 0:r.totalCount})]})},be=function(e){var n=re();return Object(D.jsxs)(F.a,{className:"".concat(n.root,"  flex-wrap"),children:[Object(D.jsxs)("div",{className:n.mainInfo,children:[Object(D.jsx)(E,{to:"/repositories/".concat(e.id),children:e.nameWithOwner}),Object(D.jsx)(ue,{stargazers:e.stargazers,primaryLanguage:e.primaryLanguage,issues:e.issues,pullRequests:e.pullRequests}),Object(D.jsx)(H.a,{className:n.descripition,color:"textPrimary",children:e.description})]}),Object(D.jsx)(te,{languages:e.languages,className:n.languageBlock})]})},me=t(149),ge=t.n(me),he=t(250),Oe=t(41),pe=t(127),xe=Object(pe.a)(a||(a=Object(Oe.a)(["query SearchRepositoriesByName($repositoryName: String!,$cursor: String){ \n  search(query: $repositoryName, type: REPOSITORY, first: 10, after: $cursor){\n    repositoryCount\n    pageInfo{\n      endCursor\n      hasNextPage\n    }\n    edges{\n      node{\n        ... on Repository{\n          id\n          nameWithOwner\n          owner {\n            id\n            login\n          }\n          name\n          description\n          primaryLanguage{\n            color\n            name\n          }\n          stargazers{\n            totalCount\n          }\n        }\n      }\n    }\n  }\n}"]))),fe=Object(pe.a)(r||(r=Object(Oe.a)(["query GetRepositoryById($repositoryID: ID!) { \n  node(id: $repositoryID){\n    ... on Repository{\n\t\t\tid\n      name\n      nameWithOwner\n    \tdescription\n      primaryLanguage{\n        name\n        color\n      }\n      languages(first: 100){\n        totalSize\n        edges{\n          size\n          node {\n            id\n            name\n            color\n          }\n        }\n      }\n      stargazers{\n        totalCount\n      }\n      issues{\n        totalCount\n      }\n      pullRequests{\n        totalCount\n      }\n    }\n  }\n}"]))),ve=function(e){var n=e.match,t=Object(he.a)(fe,{variables:{repositoryID:n.params.id}}),a=t.loading,r=t.error,i=t.data;return Object(D.jsxs)("div",{children:[Object(D.jsx)(j.b,{to:"/",children:Object(D.jsx)(S.a,{"aria-label":"\u041d\u0430\u0437\u0430\u0434",children:Object(D.jsx)(ge.a,{})})}),Object(D.jsx)(A,{loading:a,error:r,children:Object(D.jsx)(be,Object(b.a)({},null===i||void 0===i?void 0:i.node))})]})},ye=t(25),Ne=t(254),we=t(258),ze=t(252),Re=t(150),Ce=t.n(Re),Ie=function(e){var n=e.setValue,t=Object(i.useState)(""),a=Object(ye.a)(t,2),r=a[0],c=a[1];return Object(D.jsx)(we.a,{fullWidth:!0,type:"text",label:"\u041f\u043e\u0438\u0441\u043a",variant:"outlined",value:r,InputProps:{endAdornment:Object(D.jsx)(ze.a,{position:"end",children:Object(D.jsx)(Ce.a,{})})},onChange:function(e){var t=e.currentTarget.value;n(""===t?null:t),c(t)}})},Se=Object(L.a)((function(e){return Object(P.a)({information:{marginRight:e.spacing(2)},descripition:{margin:"5px 0"}})})),ke=function(e){var n,t,a,r=Se();return Object(D.jsxs)(F.a,{children:[Object(D.jsx)(E,{to:"/repositories/".concat(e.id),children:e.nameWithOwner}),Object(D.jsx)(H.a,{className:r.descripition,color:"textPrimary",children:e.description}),Object(D.jsxs)("div",{className:"flex-center",children:[Object(D.jsx)(U,{className:r.information,icon:Object(D.jsx)(je.a,{fontSize:"inherit"}),title:X(null===(n=e.stargazers)||void 0===n?void 0:n.totalCount)}),Object(D.jsx)(U,{className:r.information,icon:Object(D.jsx)(ee.a,{fontSize:"inherit",htmlColor:null===(t=e.primaryLanguage)||void 0===t?void 0:t.color}),title:null===(a=e.primaryLanguage)||void 0===a?void 0:a.name})]})]})},Le=Object(L.a)((function(e){return Object(P.a)({listItem:{paddingLeft:0,paddingRight:0},list:{width:"100%",marginBottom:50}})})),Pe=t(263),qe=function(e){var n=e.edges,t=e.loading,a=e.error,r=Le();return Object(D.jsx)(G.a,{className:r.list,children:n.map((function(e){var n=e.node;return Object(D.jsx)(J.a,{className:r.listItem,children:Object(D.jsx)(A,{loading:t,error:a,children:Object(D.jsx)(ke,Object(b.a)({},n))})},Object(Pe.a)())}))})},Be=function(e){var n=e.length,t=new Array(void 0===n?10:n).fill(1);return Object(D.jsx)(D.Fragment,{children:t.map((function(e){return Object(D.jsx)(B.a,{variant:"rectangular",sx:{bgcolor:"grey.800",borderRadius:4,height:110,width:"100%",margin:"8px 0"}},Math.random())}))})},De=t(253),We=Object(L.a)((function(e){return Object(P.a)({input:{width:"100%"},message:{marginTop:"40px"}})})),$e=function(){var e,n,t=We(),a=Object(De.a)(xe),r=Object(ye.a)(a,2),i=r[0],c=r[1],o=c.loading,s=c.error,l=c.data,j=c.fetchMore;return Object(D.jsxs)("div",{className:"container",children:[Object(D.jsx)(Ie,{setValue:function(e){i({variables:{repositoryName:e}})}}),o&&Object(D.jsx)(Be,{}),l?Object(D.jsxs)(D.Fragment,{children:[Object(D.jsx)(qe,{edges:null===l||void 0===l||null===(e=l.search)||void 0===e?void 0:e.edges,loading:o,error:s}),(null===(n=l.search)||void 0===n?void 0:n.pageInfo.hasNextPage)&&Object(D.jsx)(Ne.a,{variant:"outlined",color:"primary",onClick:function(){if(void 0===j)return null;var e=l.search.pageInfo,n=e.hasNextPage,t=e.endCursor;n&&j({variables:{cursor:t}})},children:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435"})]}):!o&&Object(D.jsx)(H.a,{className:t.message,color:"textPrimary",variant:"body1",children:"\u0417\u0434\u0435\u0441\u044c \u043f\u043e\u043a\u0430 \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435\u0442"})]})},Me=t(255),Te=Object(L.a)((function(e){return Object(P.a)({main:{backgroundColor:e.palette.background.default,minHeight:"100vh",width:"100%",paddingTop:30,paddingBottom:100}})})),Ae=function(e){var n=e.children,t=Te();return Object(D.jsx)("main",{className:t.main,children:Object(D.jsx)(Me.a,{maxWidth:"md",children:Object(D.jsx)(D.Fragment,{children:n})})})};t(180);var Fe=function(){return Object(D.jsx)("div",{className:"app",children:Object(D.jsx)(l.a,{theme:I,children:Object(D.jsx)(u.a,{client:y,children:Object(D.jsx)(j.a,{children:Object(D.jsx)(Ae,{children:Object(D.jsxs)(d.c,{children:[Object(D.jsx)(d.a,{exact:!0,path:"/",component:$e}),Object(D.jsx)(d.a,{path:"/repositories/:id",component:ve})]})})})})})})};s.a.render(Object(D.jsx)(c.a.StrictMode,{children:Object(D.jsx)(Fe,{})}),document.getElementById("root"))}},[[181,1,2]]]);
//# sourceMappingURL=main.eb65fa7e.chunk.js.map